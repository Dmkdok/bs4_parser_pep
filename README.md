# README - bs4_parser_pep

Этот репозиторий содержит проект для парсинга документации PEP (Python Enhancement Proposals) и анализа статусов PEP. Программа собирает данные о PEP, сравнивает статусы из общей таблицы с индивидуальными статусами каждого PEP, подсчитывает количество PEP в каждом статусе и записывает результаты в CSV-файл.

## Структура проекта

```
bs4_parser_pep/
├── src/
│   ├── __init__.py
│   ├── configs.py
│   ├── constants.py
│   ├── exceptions.py
│   ├── main.py
│   ├── outputs.py
│   └── utils.py
├── tests/
│   └── ...
├── .flake8
├── .gitignore
├── README.md
├── pytest.ini
└── requirements.txt
```

## Зависимости

Зависимости проекта указаны в файле `requirements.txt`. Для установки зависимостей:

```bash
pip install -r requirements.txt
```

## Запуск программы

Программа запускается из корневой директории проекта с аргументами командной строки. Доступные режимы парсинга:

```bash
usage: main.py [-h] [-c] [-o {pretty,file}]
               {whats-new,latest-versions,download, pep}

Парсер документации Python

positional arguments:
  {whats-new,latest-versions,download, pep}
                        Режимы работы парсера

optional arguments:
  -h, --help            show this help message and exit
  -c, --clear-cache     Очистка кеша
  -o {pretty,file}, --output {pretty,file}
                        Дополнительные способы вывода данных 
```

Для запуска парсинга PEP используйте команду:

```bash
python src/main.py pep
```

Это запустит парсинг всех PEP, найдет статусы каждого из них на отдельной странице и сохранит результат в файл `results/pep_status.csv`.

## Обработка результатов

Результат парсинга записывается в CSV-файл `results/pep_status.csv` в текущей директории проекта.  Файл содержит таблицу со статусами PEP и количеством PEP в каждом статусе. Последняя строка — `Total`, содержащая общее количество PEP.

## Обработка ошибок

Программа обрабатывает возможные исключения, связанные с парсингом, загрузкой страниц и другими операциями, и логирует их в файл `logs/parser.log`.

## Ограничения

При первом запуске парсера в режиме `pep` загрузка всех страниц PEP может занять некоторое время (до 5 минут). Чтобы уменьшить время выполнения, в программе реализован механизм обработки срезов данных для уменьшения нагрузки.

## Несовпадающие статусы

Программа выводит в файл `logs/parser.log` информацию о PEP, у которых статус на странице отличается от статуса в общем списке.

## Тестирование

Тесты для проекта находятся в директории `tests/`. Для их выполнения:

```bash
pytest
```


## Автор

Богданов Дмитрий



